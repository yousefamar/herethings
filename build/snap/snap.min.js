!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){var index,misc,utils,SnapApp;index=__webpack_require__(15),misc=__webpack_require__(7),utils=__webpack_require__(9),SnapApp=__webpack_require__(17).SnapApp,window.g_contentBoxInnerRemoved=!1,document.addEventListener("DOMContentLoaded",function(){var x$;utils.applyServiceLinks(),utils.insertAds(),window.g_localMediaStream=null,window.g_countdown=null,window.g_intervalId=null,window.g_doCountdown=function(){var countdown;--window.g_countdown,console.log(window.g_countdown+"s"),countdown=document.getElementById("countdown"),countdown.innerHTML=window.g_countdown,0===window.g_countdown&&(window.snapApp.snapPhoto(),window.clearInterval(window.g_intervalId))},window.g_startCountdown=function(){null!=window.g_intervalId&&(window.clearInterval(window.g_intervalId),window.g_intervalId=null),window.g_countdown=5,window.g_intervalId=window.setInterval(window.g_doCountdown,1e3)},x$=window.snapApp=new SnapApp,x$.init()})},,,,,,,function(module,exports){var __slice=Array.prototype.slice;!function($){var Sketch;return $.fn.sketch=function(){var args,key,sketch;return key=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],this.length>1&&$.error("Sketch.js can only be called on one element at a time."),sketch=this.data("sketch"),"string"==typeof key&&sketch?sketch[key]?"function"==typeof sketch[key]?sketch[key].apply(sketch,args):0===args.length?sketch[key]:1===args.length?sketch[key]=args[0]:void 0:$.error("Sketch.js did not recognize the given command."):sketch?sketch:(this.data("sketch",new Sketch(this.get(0),key)),this)},Sketch=function(){function Sketch(el,opts){this.el=el,this.canvas=$(el),this.context=el.getContext("2d"),this.options=$.extend({toolLinks:!0,defaultTool:"marker",defaultColor:"#000000",defaultSize:5},opts),this.painting=!1,this.color=this.options.defaultColor,this.size=this.options.defaultSize,this.tool=this.options.defaultTool,this.actions=[],this.action=[],this.canvas.bind("click mousedown mouseup mousemove mouseleave mouseout touchstart touchmove touchend touchcancel",this.onEvent),this.options.toolLinks&&$("body").delegate('a[href="#'+this.canvas.attr("id")+'"]',"click",function(e){var $canvas,$this,key,sketch,_i,_len,_ref;for($this=$(this),$canvas=$($this.attr("href")),sketch=$canvas.data("sketch"),_ref=["color","size","tool"],_i=0,_len=_ref.length;_len>_i;_i++)key=_ref[_i],$this.attr("data-"+key)&&sketch.set(key,$(this).attr("data-"+key));return $(this).attr("data-download")&&sketch.download($(this).attr("data-download")),!1})}return Sketch.prototype.download=function(format){var mime;return format||(format="png"),"jpg"===format&&(format="jpeg"),mime="image/"+format,window.open(this.el.toDataURL(mime))},Sketch.prototype.set=function(key,value){return this[key]=value,this.canvas.trigger("sketch.change"+key,value)},Sketch.prototype.startPainting=function(){return window.g_contentBoxInnerRemoved||($("#contentBoxInner").fadeOut("fast"),window.g_contentBoxInnerRemoved=!0),this.painting=!0,this.action={tool:this.tool,color:this.color,size:parseFloat(this.size),events:[]}},Sketch.prototype.stopPainting=function(){return this.action&&this.actions.push(this.action),this.painting=!1,this.action=null,this.redraw()},Sketch.prototype.onEvent=function(e){return e.originalEvent&&e.originalEvent.targetTouches&&(e.pageX=e.originalEvent.targetTouches[0].pageX,e.pageY=e.originalEvent.targetTouches[0].pageY),$.sketch.tools[$(this).data("sketch").tool].onEvent.call($(this).data("sketch"),e),e.preventDefault(),!1},Sketch.prototype.redraw=function(){var sketch;return this.el.width=this.canvas.width(),this.context=this.el.getContext("2d"),sketch=this,$.each(this.actions,function(){return this.tool?$.sketch.tools[this.tool].draw.call(sketch,this):void 0}),this.painting&&this.action?$.sketch.tools[this.action.tool].draw.call(sketch,this.action):void 0},Sketch}(),$.sketch={tools:{}},$.sketch.tools.marker={onEvent:function(e){switch(e.type){case"mousedown":case"touchstart":this.startPainting();break;case"mouseup":case"mouseout":case"mouseleave":case"touchend":case"touchcancel":this.stopPainting()}return this.painting?(this.action.events.push({x:e.pageX-this.canvas.offset().left,y:e.pageY-this.canvas.offset().top,event:e.type}),this.redraw()):void 0},draw:function(action){var event,previous,_i,_len,_ref;for(this.context.lineJoin="round",this.context.lineCap="round",this.context.beginPath(),this.context.moveTo(action.events[0].x,action.events[0].y),_ref=action.events,_i=0,_len=_ref.length;_len>_i;_i++)event=_ref[_i],this.context.lineTo(event.x,event.y),previous=event;return this.context.strokeStyle=action.color,this.context.lineWidth=action.size,this.context.stroke()}},$.sketch.tools.eraser={onEvent:function(e){return $.sketch.tools.marker.onEvent.call(this,e)},draw:function(action){var oldcomposite;return oldcomposite=this.context.globalCompositeOperation,this.context.globalCompositeOperation="copy",action.color="rgba(0,0,0,0)",$.sketch.tools.marker.draw.call(this,action),this.context.globalCompositeOperation=oldcomposite}}}(jQuery),window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var g_serviceUrlToGoTo=null;window.Misc={},Misc.gotoServiceUrl=function(url){g_serviceUrlToGoTo=url,$("#serviceContent").fadeToggle(140,function(g_serviceUrlToGoTo){window.location=url})},Misc.toggleElm=function(id){var elm=document.getElementById(id);elm&&("block"==elm.style.display?elm.style.display="none":elm.style.display="block")},Misc.elmExists=function(id){var elm=document.getElementById(id);return Misc.isSet(elm)},Misc.isShowing=function(id){var isShowing=!1,elm=document.getElementById(id);return elm&&(isShowing="block"==elm.style.display),isShowing},Misc.showElm=function(id){var elm=document.getElementById(id);elm&&(elm.style.display="block")},Misc.hideElm=function(id){var elm=document.getElementById(id);elm&&(elm.style.display="none")},Misc.getRandomInt=function(min,max){return parseInt(Math.floor((max+1-min)*Math.random()+min))},Misc.removeItem=function(arr,v){for(var what,ax,a=arguments,L=a.length;L>1&&arr.length;)for(what=a[--L];-1!==(ax=arr.indexOf(what));)arr.splice(ax,1);return arr},Misc.getChance=function(chanceOfSuccessInPercent){var ok=!1;return chanceOfSuccessInPercent>0&&(ok=Misc.getRandomInt(0,100)<=chanceOfSuccessInPercent),ok}},,function(module,exports,__webpack_require__){var config,navToService,applyServiceLinks,insertAds,out$="undefined"!=typeof exports&&exports||this;config=__webpack_require__(10),navToService=function(service){return"localhost"===window.location.hostname?window.location.pathname="/"+service+"/":window.location.hostname="here"+service+".com"},out$.applyServiceLinks=applyServiceLinks=function(){config.services.forEach(function(service){function fn$(){navToService(service)}var i$,ref$,len$,elem;for(i$=0,len$=(ref$=document.getElementsByClassName(service+"Icon")).length;len$>i$;++i$)elem=ref$[i$],elem.addEventListener("click",fn$)})},out$.insertAds=insertAds=function(){var x$,y$,adDiv,z$,z1$,z2$;config.showAds&&(x$=document.createElement("script"),x$.async=!0,x$.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",document.body.appendChild(x$),y$=adDiv=document.createElement("div"),y$.style.textAlign="center",document.body.appendChild(y$),z$=document.createElement("ins"),z$.className="adsbygoogle",z1$=z$.style,z1$.display="inline-block",z1$.width="468px",z1$.height="60px",z$["data-ad-client"]="ca-pub-4135663670627621",z$["data-ad-slot"]="3009112240",adDiv.appendChild(z$),z2$=window.adsbygoogle=window.adsbygoogle||[],z2$.push({}))}},function(module,exports){module.exports={services:["things","sketch","snap","clip","voice","cast"],showAds:!0}},,,,,function(module,exports){},,function(module,exports,__webpack_require__){var snapSoundURL=__webpack_require__(18),SnapApp=function(){};SnapApp.prototype.init=function(){var onFailSoHard=function(e){};$("#contentBoxOverlay").fadeOut("fast");document.querySelector("video");navigator.getUserMedia({video:!0,audio:!1},function(localMediaStream){var video=document.querySelector("video");video.src=window.URL.createObjectURL(localMediaStream),g_localMediaStream=localMediaStream},onFailSoHard)},SnapApp.prototype.snapPhoto=function(){if(g_localMediaStream){var video=document.getElementById("contentBox"),canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),videoWidth=video.videoWidth,videoHeight=video.videoHeight;$("#canvas").show(),canvas.width=videoWidth,canvas.height=videoHeight;var top=300-videoHeight/2;canvas.style.top=top+"px",context.drawImage(video,0,0,videoWidth,videoHeight);var snapshot=document.getElementById("snapshot");snapshot.src=canvas.toDataURL("image/webp"),snapshot.style.top=top+"px",snapshot.style.width="600px",snapshot.style.height="auto",snapshot.style.borderTop="14px solid rgb(234,234,234)",snapshot.style.borderBottom="14px solid rgb(234,234,234)",$("#snapshot").show(),$("#canvas").hide()}var thisSound=new Audio("/"+snapSoundURL);thisSound.play(),$("#closeButton").show(),$("#snapOverlay").show(),$("#snapOverlay").fadeOut("fast"),$("#snapButton").hide()},SnapApp.prototype.clearPhoto=function(){var canvas=document.getElementById("canvas"),context=canvas.getContext("2d");context.clearRect(0,0,canvas.width,canvas.height),$("#closeButton").hide(),$("#snapshot").fadeOut("fast"),$("#snapButton").show()},exports.SnapApp=SnapApp},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"sound/snap.wav?9f5588ea744fd3ab2f083d5e41ac98c8"}]);
//# sourceMappingURL=snap.min.js.map